<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>For Subbi ğŸ’˜</title>

<script src="https://cdn.tailwindcss.com"></script>
<script src="https://cdn.skypack.dev/canvas-confetti"></script>

<style>
  @import url('https://fonts.googleapis.com/css2?family=Dancing+Script:wght@700&family=Poppins:wght@400;600&display=swap');

  body {
    overflow: hidden;
    background: radial-gradient(circle, #1a0b2e 0%, #000000 100%);
    transition: all 1.5s ease;
    font-family: 'Poppins', sans-serif;
    color: white;
  }

  .glass {
    background: rgba(255, 255, 255, 0.05);
    backdrop-filter: blur(15px);
    border: 1px solid rgba(255, 255, 255, 0.1);
    border-radius: 30px;
    box-shadow: 0 20px 50px rgba(0,0,0,0.5);
  }

  .glow-text {
    font-family: 'Dancing Script', cursive;
    text-shadow: 0 0 20px #ff6aa2;
  }

  .floating {
    animation: float 3s ease-in-out infinite;
  }

  @keyframes float {
    0%, 100% { transform: translateY(0); }
    50% { transform: translateY(-20px); }
  }

  .heart {
    position: fixed;
    pointer-events: none;
    z-index: 0;
    animation: fall linear infinite;
  }

  @keyframes fall {
    0% { transform: translateY(-10vh) scale(0); opacity: 0; }
    50% { opacity: 1; }
    100% { transform: translateY(110vh) scale(0.8); opacity: 0; }
  }
</style>
</head>

<body class="flex items-center justify-center min-h-screen px-4">

<audio id="sadMusic" loop preload="auto">
  <source src="https://www.bensound.com/bensound-music/bensound-tomorrow.mp3" type="audio/mpeg">
</audio>

<audio id="romanticMusic" loop preload="auto">
  <source src="https://www.bensound.com/bensound-music/bensound-love.mp3" type="audio/mpeg">
</audio>

<div class="glass p-10 text-center max-w-md w-full relative z-10 floating">
  <h1 class="text-6xl font-extrabold text-purple-400 glow-text mb-6">Subbi ğŸ’–</h1>

  <div class="relative inline-block mb-6">
    <img id="gif"
      src="https://media.tenor.com/97S9T99X878AAAAC/puss-in-boots-shrek.gif"
      class="rounded-3xl mx-auto h-[220px] w-[220px] shadow-2xl border-4 border-pink-500/20 object-cover"/>
  </div>

  <h2 id="question" class="text-2xl font-semibold italic text-pink-100 min-h-[90px] px-2"></h2>

  <div id="buttons" class="flex justify-center items-center gap-6 mt-6 h-20">
    <button id="yes" class="bg-gradient-to-r from-pink-500 to-rose-600 text-white font-bold px-10 py-4 text-2xl rounded-full shadow-[0_0_30px_rgba(236,72,153,0.4)] hover:brightness-110 active:scale-90 transition-all">
      Yes! ğŸ’
    </button>
    <button id="no" class="bg-white/10 text-gray-300 font-medium px-6 py-2 text-lg rounded-full border border-white/20">
      No ğŸ˜
    </button>
  </div>
</div>

<script>
const phrases = ["Subbi... will you be my Valentine? ğŸ¥º", "Please? I'll be the best ever! âœ¨", "Don't click that red button... ğŸ˜­", "My heart is literally in your hands! ğŸ’”", "I'm gonna start crying... ğŸŒŠ"];
const sadGifs = ["https://media.tenor.com/97S9T99X878AAAAC/puss-in-boots-shrek.gif", "https://media.tenor.com/2roX3uxz_68AAAAC/cat-sad.gif", "https://media.tenor.com/0mYfFj1Jk4IAAAAC/cat-cry.gif"];

let i = 0, textIndex = 0;
const q = document.getElementById("question"), sad = document.getElementById("sadMusic"), romantic = document.getElementById("romanticMusic"), gif = document.getElementById("gif"), noBtn = document.getElementById("no"), yesBtn = document.getElementById("yes");

function typeWriter() {
  if (i < phrases[textIndex].length) {
    q.textContent += phrases[textIndex][i++];
    setTimeout(typeWriter, 50);
  }
}
typeWriter();

// CRITICAL: AUDIO UNLOCK
function playSad() {
    sad.play().catch(e => console.log("Click again to play music"));
    document.removeEventListener('click', playSad);
}
document.addEventListener('click', playSad);

let noHoverCount = 0;
noBtn.addEventListener("mouseover", () => {
  yesBtn.style.transform = `scale(${1 + (noHoverCount * 0.4)})`;
  noBtn.style.position = 'fixed';
  noBtn.style.left = Math.random() * 70 + 15 + '%';
  noBtn.style.top = Math.random() * 70 + 15 + '%';
  noHoverCount++;
  if (noHoverCount % 2 === 0) {
    textIndex = (textIndex + 1) % phrases.length;
    q.textContent = ""; i = 0; typeWriter();
    gif.src = sadGifs[Math.floor(Math.random() * sadGifs.length)];
  }
});

yesBtn.addEventListener("click", () => {
  sad.pause();
  romantic.play();
  document.body.style.background = "radial-gradient(circle, #ff4d6d 0%, #ff758c 100%)";
  gif.src = "https://i.postimg.cc/ydj8MGT3/bear-kiss-bear-kisses.gif";
  q.innerHTML = "<span class='text-5xl block mb-2 font-bold'>YAYYY! â¤ï¸</span> You've made me the happiest person!";
  document.getElementById("buttons").innerHTML = "";
  setInterval(() => {
    const heart = document.createElement("div");
    heart.className = "heart";
    heart.innerHTML = "â¤ï¸";
    heart.style.left = Math.random() * 100 + "vw";
    heart.style.fontSize = "25px";
    heart.style.animationDuration = (2 + Math.random() * 2) + "s";
    document.body.appendChild(heart);
    setTimeout(() => heart.remove(), 3000);
  }, 150);
  confetti({ particleCount: 200, spread: 70, origin: { y: 0.6 } });
});
</script>
</body>
</html>
